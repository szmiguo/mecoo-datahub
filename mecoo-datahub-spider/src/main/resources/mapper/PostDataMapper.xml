<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mecoo.spider.mapper.PostDataMapper">

    <resultMap id="BaseResultMap" type="com.mecoo.spider.domain.PostData">
        <id column="id" property="id" jdbcType="BIGINT"/>
        <result column="social_media" property="socialMedia" jdbcType="VARCHAR"/>
        <result column="short_code" property="shortCode" jdbcType="VARCHAR"/>
        <result column="play_count" property="playCount" jdbcType="INTEGER"/>
        <result column="like_count" property="likeCount" jdbcType="INTEGER"/>
        <result column="comment_count" property="commentCount" jdbcType="INTEGER"/>
        <result column="post_id" property="postId" jdbcType="VARCHAR"/>
        <result column="media_type" property="mediaType" jdbcType="INTEGER"/>
        <result column="post_user_id" property="postUserId" jdbcType="VARCHAR"/>
        <result column="create_time" property="createTime" jdbcType="TIMESTAMP"/>
        <result column="update_time" property="updateTime" jdbcType="TIMESTAMP"/>
    </resultMap>

    <!-- 批量插入PostData -->
    <insert id="batchInsert" parameterType="java.util.List">
        INSERT INTO dh_post_data (
            social_media,
            short_code,
            play_count,
            like_count,
            comment_count,
            post_id,
            media_type,
            post_user_id,
            create_time,
            update_time
        ) VALUES
        <foreach collection="list" item="item" separator="," index="index">
            (
                #{item.socialMedia,jdbcType=VARCHAR},
                #{item.shortCode,jdbcType=VARCHAR},
                #{item.playCount,jdbcType=INTEGER},
                #{item.likeCount,jdbcType=INTEGER},
                #{item.commentCount,jdbcType=INTEGER},
                #{item.postId,jdbcType=VARCHAR},
                #{item.mediaType,jdbcType=INTEGER},
                #{item.postUserId,jdbcType=VARCHAR},
                #{item.createTime,jdbcType=TIMESTAMP},
                #{item.updateTime,jdbcType=TIMESTAMP}
            )
        </foreach>
    </insert>

</mapper>